{% load static %}

<div class="leaderboard-container friend">
    <div class="top-contributors">
		<div class="header-friends board-title">
			<div class="left-header-friends">
				<div class="options-friends-container">
					<button class="option-friend-button active">
						<span class="label-option-friend-button" data-mode="friends">Friends</span>
					</button>
				</div>

				<div class="options-friends-container">
					<button class="option-friend-button ">
						<span class="label-option-friend-button" data-mode="pending">Invite(s)</span>
					</button>
				</div>

				<div class="options-friends-container">
					<button class="option-friend-button">
						<span class="label-option-friend-button" data-mode="add">Add</span>
					</button>
				</div>
			</div>

			<div class="right-header-friends">
                <i class="fa-solid fa-rotate-left actualize-friends"></i>
				<h2 class="">FRIENDS</h2>
			</div>
		</div>
		<div class="search-bar-container">
			<input type="text" id="search-bar-friends" placeholder="Search a friend ...">
			<i class="fa-solid fa-magnifying-glass"></i>
		</div>
        <ul class="contributor-list friend">
<!-- 

			<li class="contributor-item friend">
            
                <img src="https://www.w3schools.com/howto/img_avatar.png" alt="John Doe">
                <div class="contributor-details friend">
                    <span class="contributor-name friend">John Doe</span>
                    <span class="contributor-username friend">jdoe</span>
                </div>
                <div class="performance-stats friend">
					<button onclick="addFriend(event)" class="add-friend-button">add</button>
                </div>
            </li> -->

				{% if request.user and request.user.friends.all %}
					{% for friend in request.user.friends.all %}
					<li class="contributor-item friend">
						<img src="{{ friend.get_profile_picture_url }}" alt="{{ friend.first_name }} {{ friend.last_name }}">
						<div class="contributor-details friend">
							<span class="contributor-name friend">{{ friend.first_name }} {{ friend.last_name }}</span>
							<span class="contributor-username friend">{{ friend.pseudo }}</span>

                            <div id="center-div">
                                <div class="bubble">
                                <span class="bubble-outer-dot item-dashboard">
                                    <span class="bubble-inner-dot" style="background-color: {% if friend.is_online %}green{% else %}red{% endif %};"></span>


                                    </span>
                                </span>
                                </div>
                            </div>
                        </div>


					</li>
					{% endfor %}
				{% else %}
					<li class="no-results">No friends found.</li>
				{% endif %}
			

           
            
        </ul>
    </div>
</div>